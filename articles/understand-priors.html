<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="learnB4SS">
<title>Understand and explore priors • learnB4SS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Understand and explore priors">
<meta property="og:description" content="learnB4SS">
<meta property="og:image" content="https://learnb4ss.github.io/learnB4SS/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">learnB4SS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.7.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/contrasts.html">Factors, coding and contrasts</a>
    <a class="dropdown-item" href="../articles/ex_03.html">Application to regression II - Priors and Bayesian updating</a>
    <a class="dropdown-item" href="../articles/ex_06.html">Application to regression III - More Bayesian inference</a>
    <a class="dropdown-item" href="../articles/ex_08.html">Application to regression IV - Leveling up to hierarchical models</a>
    <a class="dropdown-item" href="../articles/faqs.html">FAQs</a>
    <a class="dropdown-item" href="../articles/full-analysis.html">Fully worked-out analysis using a Bayesian regression with brms</a>
    <a class="dropdown-item" href="../articles/glossary.html">Glossary</a>
    <a class="dropdown-item" href="../articles/install-brms.html">How to install brms and dependecies</a>
    <a class="dropdown-item" href="../articles/install-learnb4ss.html">How to install the learnB4SS package</a>
    <a class="dropdown-item" href="../articles/understand-priors.html">Understand and explore priors</a>
    <a class="dropdown-item" href="../articles/why-bayes.html">Why Bayesian?</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/learnB4SS/learnB4SS/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Understand and explore priors</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/learnB4SS/learnB4SS/blob/HEAD/vignettes/understand-priors.Rmd" class="external-link"><code>vignettes/understand-priors.Rmd</code></a></small>
      <div class="d-none name"><code>understand-priors.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/learnB4SS/learnB4SS" class="external-link">learnB4SS</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">HDInterval</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/twolodzko/extraDistr" class="external-link">extraDistr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/paul-buerkner/brms" class="external-link">brms</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">emotion</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">vowels</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This vignette digs a bit deeper into priors for different types of
outcome/response variables. We will cover outcome variables that follow
these distributions: normal/Gaussian, log-normal, binomial/Bernoulli,
poisson, and beta.</p>
</div>
<div class="section level2">
<h2 id="normalgaussian">Normal/Gaussian<a class="anchor" aria-label="anchor" href="#normalgaussian"></a>
</h2>
<p>Let’s start off with an outcome variable distributed according to a
normal/Gaussian distribution.</p>
<p>In fact, we hardly ever work with truly normally distributed
variables. So for this example we will look at a data set of lexical
emotional valence.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emotion</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,000 × 2</span></span></span>
<span><span class="co">#&gt;    word         valence</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> classroom      0.57 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> worker         0.95 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> climb          0.62 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> photographer   1.71 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> downward      -<span style="color: #BB0000;">1</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> loose         -<span style="color: #BB0000;">0.480</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> scanner        0.57 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> kooky          1.42 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> credence       0.79 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> fog            0.770</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 990 more rows</span></span></span></code></pre></div>
<p>The <code>emotion</code> tibble contains a list of 1000 English words
(<code>word</code>) and their emotional valence (<code>valence</code>).
Emotional valence is given as a number between <code>-4</code> and
<code>+4</code>, which correspond to “bad valence” and “good valence”
respectively.</p>
<p>The variable <code>valence</code> is in principle distributed
according to a normal/Gaussian distribution (simply “normal” from now
on). NOTE that the probability distribution of the outcome variable (aka
likelihood, family) should not be chosen based on visual inspection, but
based on conceptual principles.</p>
<p>Another word of warning is that plotting continuous outcome variables
with <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density()</a></code> does not allow us to assess which
distribution the variable follows, because the data might have been
generated by a mixture of distributions.</p>
<p>A quick plot of the outcome variable should just be used to ensure
that the data is ok (i.e. doesn’t contain errors).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emotion</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">valence</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_rug.html" class="external-link">geom_rug</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="understand-priors_files/figure-html/valence-density-1.png" width="700"></p>
<p>All seems good.</p>
<p>Now, what we want to do is simply to model the distribution of
<code>valence</code>.</p>
<p><code>valence</code> follows a normal distribution:</p>
<p><span class="math display">\[valence_i \sim Normal(\mu,
\sigma)\]</span></p>
<p>So in fact we want to estimate <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> from the data.</p>
<p>We need to set a prior probability distribution (or simply prior) for
<span class="math inline">\(\mu\)</span> and one prior for <span class="math inline">\(\sigma\)</span>.</p>
<p>A go-to prior distribution for <span class="math inline">\(\mu\)</span> is yet another normal distribution,
with its own <span class="math inline">\(\mu_1\)</span> and <span class="math inline">\(\sigma_1\)</span>.</p>
<p><span class="math display">\[\mu \sim Normal(\mu_1,
\sigma_1)\]</span></p>
<p>As a general rule, we recommend using so-called <strong>regularising
priors</strong> by setting <span class="math inline">\(\mu_1\)</span> to
<code>0</code>.</p>
<p><span class="math display">\[\mu \sim Normal(0,
\sigma_1)\]</span></p>
<p>To decide what value to assign to <span class="math inline">\(\sigma_1\)</span>, we can use the
<strong>empirical rule</strong>: the 95% CrI of a normal distribution is
the interval contained within the range defined by <span class="math inline">\(\mu \pm 2\sigma\)</span>.</p>
<p>Since <code>valence</code> ranges between <code>-4</code> and
<code>+4</code> by definition, a conservative approach for <span class="math inline">\(\mu\)</span> is to allow for values between
<code>-8</code> and <code>+8</code>.</p>
<p>Since <span class="math inline">\(\mu_1 = 0\)</span>, then <span class="math inline">\(\sigma_1\)</span> is <span class="math inline">\(8/2 = 4\)</span>.</p>
<p><span class="math display">\[\mu \sim Normal(0, 4)\]</span></p>
<p>This is how <span class="math inline">\(Normal(0, 4)\)</span> looks
like.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">15</span>, <span class="fl">15</span>, by <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">dnorm</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="understand-priors_files/figure-html/mu-prior-1.png" width="700"></p>
<p>So now we know which prior we will set for <span class="math inline">\(\mu\)</span>.</p>
<p>For <span class="math inline">\(\sigma\)</span>, one can choose from
a normal distribution, a Student-t distribution, or a Half-Cauchy
distribution.</p>
<p>We will go with the latter.</p>
<p><span class="math display">\[\sigma \sim HalfCauchy(x,
\gamma)\]</span></p>
<p>With Half-Cauchy distributions you can safely set <span class="math inline">\(x = 0\)</span>.</p>
<p><span class="math display">\[\sigma \sim HalfCauchy(0,
\gamma)\]</span></p>
<p>We cannot use the empirical rule to decide what value <span class="math inline">\(\gamma\)</span> should have, because the rule
works only with normal distributions.</p>
<p>Instead, we can use the <code><a href="https://rdrr.io/pkg/HDInterval/man/inverseCDF.html" class="external-link">inverseCDF()</a></code> function from the
HDInterval package (see the function documentation for a full
explanation).</p>
<p>We don’t really have an idea of what the standard deviation for the
<code>valence</code> scores might be, and we cannot calculate the
standard deviation from the data (that would be cheating!).</p>
<p>So we just go with a quite weakly informative prior.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># phcauchy is from the extraDistr package</span></span>
<span><span class="co"># If you are wondering why 0.025 and 0.975, that is the range that gives you</span></span>
<span><span class="co"># a 95% CrI/HDI.</span></span>
<span><span class="co"># Note that the phcauchy function calls gamma "sigma" but it means the same here.</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/HDInterval/man/inverseCDF.html" class="external-link">inverseCDF</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.025</span>, <span class="fl">0.975</span><span class="op">)</span>, <span class="va">phcauchy</span>, sigma <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  0.03929027 25.45168269</span></span></code></pre></div>
<p>The functions returns the lower and upper boundary of the 95% HDI
(Highest Density Interval). The range <code>[0, 25]</code> for the
standard deviation encompasses a very large range of values, given the
range of <code>valence</code> (<code>[-4, +4]</code>), making the prior
a weakly informative one.</p>
<p>The prior for <span class="math inline">\(\sigma\)</span> then
is:</p>
<p><span class="math display">\[\sigma \sim HalfCauchy(0,
1)\]</span></p>
<p>To sum up:</p>
<p><span class="math display">\[
\begin{aligned}
valence_i &amp; \sim Normal(\mu, \sigma)\\
\mu &amp; \sim Normal(0, 4)\\
\sigma &amp; \sim HalfCauchy(0, 1)
\end{aligned}
\]</span></p>
<p>The corresponding code for <span class="math inline">\(valence_i \sim
Normal(\mu, \sigma)\)</span> is:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/brm.html" class="external-link">brm</a></span><span class="op">(</span></span>
<span>  <span class="va">valence</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>  data <span class="op">=</span> <span class="va">emotion</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">gaussian</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can check which priors we should specify:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/get_prior.html" class="external-link">get_prior</a></span><span class="op">(</span></span>
<span>  <span class="va">valence</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>  data <span class="op">=</span> <span class="va">emotion</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">gaussian</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;                   prior     class coef group resp dpar nlpar lb ub  source</span></span>
<span><span class="co">#&gt;  student_t(3, 0.7, 2.5) Intercept                                  default</span></span>
<span><span class="co">#&gt;    student_t(3, 0, 2.5)     sigma                             0    default</span></span></code></pre></div>
<p>The brms code for setting the priors is:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">priors_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="co"># class Intercept = mu</span></span>
<span>  <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/set_prior.html" class="external-link">prior</a></span><span class="op">(</span><span class="fu">norma</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span>, class <span class="op">=</span> <span class="va">Intercept</span><span class="op">)</span>,</span>
<span>  <span class="co"># no need to specify that cauchy should be half</span></span>
<span>  <span class="co"># that is done automatically by brms</span></span>
<span>  <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/set_prior.html" class="external-link">prior</a></span><span class="op">(</span><span class="fu">cauchy</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, class <span class="op">=</span> <span class="va">sigma</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>At this point you would normally do prior predictive checks. We will
show you how in the next example.</p>
<p>After you made sure the prior predictive checks are fine, you would
go on to run the model with your priors (not run here).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/brm.html" class="external-link">brm</a></span><span class="op">(</span></span>
<span>  <span class="va">valence</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>  data <span class="op">=</span> <span class="va">emotion</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">gaussian</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  prior <span class="op">=</span> <span class="va">priors_1</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="log-normal">Log-normal<a class="anchor" aria-label="anchor" href="#log-normal"></a>
</h2>
<p>Several measures that can only take on positive values, like segment
duration, tend to have a skewed probability distribution. One such type
of distribution is the <strong>log-normal</strong> distribution.</p>
<p>To illustrate how to run a Bayesian regression model with log-normal
data, we will use a data set of vowel duration. Segment durations are
known to follow a log-normal distribution, since durations can only be
positive. This characteristics produces the typical right skew of
log-normal data.</p>
<p>Let’s have a look at the data.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">vowels</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 886</span></span>
<span><span class="co">#&gt; Columns: 9</span></span>
<span><span class="co">#&gt; $ item          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 20, 2, 11, 1, 15, 10, 13, 3, 14, 19, 4, 6, 16, 17, 5, 23…</span></span>
<span><span class="co">#&gt; $ speaker       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "it01", "it01", "it01", "it01", "it01", "it01", "it01", …</span></span>
<span><span class="co">#&gt; $ word          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "pugu", "pada", "poco", "pata", "boco", "podo", "boto", …</span></span>
<span><span class="co">#&gt; $ v1_duration   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 95.23720, 138.96844, 126.93226, 127.49888, 132.33310, 12…</span></span>
<span><span class="co">#&gt; $ c2_voicing    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "voiced", "voiced", "voiceless", "voiceless", "voiceless…</span></span>
<span><span class="co">#&gt; $ vowel         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "u", "a", "o", "a", "o", "o", "o", "a", "o", "u", "a", "…</span></span>
<span><span class="co">#&gt; $ c2_place      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "velar", "coronal", "velar", "coronal", "velar", "corona…</span></span>
<span><span class="co">#&gt; $ speech_rate   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 4.893206, 5.015636, 4.819541, 5.031662, 5.063435, 5.0632…</span></span>
<span><span class="co">#&gt; $ speech_rate_c <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.55937531, -0.43694485, -0.63303978, -0.42091937, -0.3…</span></span></code></pre></div>
<p>And let’s plot the raw vowel duration.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vowels</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">v1_duration</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_rug.html" class="external-link">geom_rug</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="understand-priors_files/figure-html/vow-duration-1.png" width="700"></p>
<p>We can start off with this simple formula:</p>
<p><span class="math display">\[vow\_dur_i \sim Lognormal(\mu_i,
\sigma)\]</span></p>
<p>Vowel duration is distributed according to a log-normal distribution,
which has a mean <span class="math inline">\(\mu\)</span> and a standard
deviation <span class="math inline">\(\sigma\)</span>. We want to
estimate <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> from the data.</p>
<p>This time though, we also have a few predictors we are interested in:
C2 voicing (voiceless, voiced), C2 place of articulation (coronal,
velar), vowel (/a/, /o/, /u/), and speech rate (syllables per
second).</p>
<p>The predictors of a linear model are assumed to have an effect on
<span class="math inline">\(\mu\)</span>. The following formula for
<span class="math inline">\(\mu\)</span> from above should make this
evident:</p>
<p><span class="math display">\[
\begin{aligned}
\mu_i &amp; = \alpha + \beta_1 \times c2voicing_i + \beta_2 \times
c2poa_i \\
&amp; + \beta_3 \times vowelO_i + \beta_4 \times vowelU_i \\
&amp; + \beta_5 \times srate_i
\end{aligned}
\]</span></p>
<p><span class="math inline">\(\alpha\)</span> is the parameter of the
model intercept, while the <span class="math inline">\(\beta\)</span>
parameters are the coefficients of the predictors.</p>
<p>For each of these parameters we need to set a prior.</p>
<p>To be continued…</p>
<p><br></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stefano Coretta, Joseph V. Casillas, Timo Roettger.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
